// FAKE AI MODE â€“ Î”Î•Î Î§Î¡Î•Î™Î‘Î–Î•Î¤Î‘Î™ OPENAI / API CREDITS

const express = require("express");
const cors = require("cors");
const bodyParser = require("body-parser");

const app = express();
app.use(cors());
app.use(bodyParser.json());

// ----------------- Hotel config ------------------
const hotelConfig = {
  name: "Acropolis View Hotel",
  city: "Î‘Î¸Î®Î½Î±",
  checkIn: "15:00",
  checkOut: "11:00",
  breakfast: "07:30 â€“ 10:30",
};

// ÎœÎ¹ÎºÏÏŒÏ‚ rule-based â€œÎµÎ³ÎºÎ­Ï†Î±Î»Î¿Ï‚â€
function fakeAiReply(message) {
  const text = message.toLowerCase();

  // ----- Î‘ÏÎ½Î·Ï„Î¹ÎºÎ® Ï€ÏÏŒÎ¸ÎµÏƒÎ· Ï€ÎµÎ»Î¬Ï„Î· / Î­Î¾Î¿Î´Î¿Ï‚ -----
  if (
    text.includes("Î´ÎµÎ½ Î¸ÎµÎ»Ï‰") ||
    text.includes("Î´ÎµÎ½ Î¸Î­Î»Ï‰") ||
    text.includes("Î¿Ï‡Î¹") ||
    text.includes("ÏŒÏ‡Î¹") ||
    text.includes("ÏƒÏ„Î±Î¼Î±Ï„Î±") ||
    text.includes("ÏƒÏ„Î±Î¼Î¬Ï„Î±") ||
    text.includes("Î¼Î·Î½ ÏƒÏ…Î½ÎµÏ‡Î¹ÏƒÎµÎ¹Ï‚") ||
    text.includes("Î¼Î·Î½ ÏƒÏ…Î½ÎµÏ‡Î¯ÏƒÎµÎ¹Ï‚") ||
    text.includes("Î´ÎµÎ½ Î¼Îµ ÎµÎ½Î´Î¹Î±Ï†ÎµÏÎµÎ¹") ||
    text.includes("Î´ÎµÎ½ Î¼Îµ ÎµÎ½Î´Î¹Î±Ï†Î­ÏÎµÎ¹") ||
    text.includes("Î´ÎµÎ½ ÎµÎ½Î´Î¹Î±Ï†ÎµÏÎ¿Î¼Î±Î¹") ||
    text.includes("Î´ÎµÎ½ ÎµÎ½Î´Î¹Î±Ï†Î­ÏÎ¿Î¼Î±Î¹") ||
    text.includes("Î´ÎµÎ½ Î¸ÎµÎ»Ï‰ Î½Î± ÏƒÏ…Î½ÎµÏ‡Î¹ÏƒÏ‰") ||
    text.includes("Î´ÎµÎ½ Î¸Î­Î»Ï‰ Î½Î± ÏƒÏ…Î½ÎµÏ‡Î¯ÏƒÏ‰")
  ) {
    return "Î£Î±Ï‚ ÎµÏ…Ï‡Î±ÏÎ¹ÏƒÏ„Î¿ÏÎ¼Îµ Ï€Î¿Î»Ï Î³Î¹Î± Ï„Î¿Î½ Ï‡ÏÏŒÎ½Î¿ ÏƒÎ±Ï‚! ðŸ˜Š Î•Î¯Î¼Î±ÏƒÏ„Îµ Ï€Î¬Î½Ï„Î± ÎµÎ´ÏŽ Î±Î½ Ï‡ÏÎµÎ¹Î±ÏƒÏ„ÎµÎ¯Ï„Îµ Î¿Ï„Î¹Î´Î®Ï€Î¿Ï„Îµ ÏƒÏ„Î¿ Î¼Î­Î»Î»Î¿Î½.";
  }

  // ----- Check-in / Check-out (ÎºÎ¿Ï…Î¼Ï€Î¯ & manual) -----
  if (
    text.includes("Ï‰ÏÎµÏ‚ check") ||
    text.includes("ÏŽÏÎµÏ‚ check") ||
    text.includes("check in") ||
    text.includes("check-in") ||
    text.includes("checkin") ||
    text.includes("check out") ||
    text.includes("checkout") ||
    text.includes("ÏƒÎµÎº Î¹Î½") ||
    text.includes("ÏƒÎµÎº Î±Î¿Ï…Ï„") ||
    text.includes("check-in ÎºÎ±Î¹ check-out") ||
    text.includes("Ï€Î¿Î¹ÎµÏ‚ ÎµÎ¯Î½Î±Î¹ Î¿Î¹ ÏŽÏÎµÏ‚ check-in") ||
    text.includes("Ï‰ÏÎµÏ‚ check in") ||
    text.includes("ÏŽÏÎµÏ‚ check in")
  ) {
    return `Î£Ï„Î¿ ${hotelConfig.name} Ï„Î¿ check-in ÎµÎ¯Î½Î±Î¹ Î±Ï€ÏŒ Ï„Î¹Ï‚ ${hotelConfig.checkIn} ÎºÎ±Î¹ Ï„Î¿ check-out Î¼Î­Ï‡ÏÎ¹ Ï„Î¹Ï‚ ${hotelConfig.checkOut}.
Î‘Î½ Ï†Ï„Î¬ÏƒÎµÏ„Îµ Î½Ï‰ÏÎ¯Ï„ÎµÏÎ±, Î¼Ï€Î¿ÏÎ¿ÏÎ¼Îµ Î½Î± ÎºÏÎ±Ï„Î®ÏƒÎ¿Ï…Î¼Îµ Ï„Î¹Ï‚ Î±Ï€Î¿ÏƒÎºÎµÏ…Î­Ï‚ ÏƒÎ±Ï‚ Î¼Î­Ï‡ÏÎ¹ Î½Î± ÎµÎ¯Î½Î±Î¹ Î­Ï„Î¿Î¹Î¼Î¿ Ï„Î¿ Î´Ï‰Î¼Î¬Ï„Î¹Î¿. Î‘Î½ Ï‡ÏÎµÎ¹Î¬Î¶ÎµÏƒÏ„Îµ ÎµÎ¹Î´Î¹ÎºÎ® ÏÏÎ¸Î¼Î¹ÏƒÎ· ÏŽÏÎ±Ï‚, Î¼Ï€Î¿ÏÎ¿ÏÎ¼Îµ Î½Î± Ï„Î¿ Î´Î¿ÏÎ¼Îµ Î±Î½Î¬Î»Î¿Î³Î± Î¼Îµ Ï„Î· Î´Î¹Î±Î¸ÎµÏƒÎ¹Î¼ÏŒÏ„Î·Ï„Î±. ðŸ™‚`;
  }

  // ----- ÎœÎµÏ„Î±Ï†Î¿ÏÎ¬ Î±Ï€ÏŒ/Ï€ÏÎ¿Ï‚ Î±ÎµÏÎ¿Î´ÏÏŒÎ¼Î¹Î¿ (ÎºÎ¿Ï…Î¼Ï€Î¯ & manual) -----
  if (
    text.includes("Î¼ÎµÏ„Î±Ï†Î¿ÏÎ¬") ||
    text.includes("Î¼ÎµÏ„Î±Ï†Î¿ÏÎ±") ||
    text.includes("Î±ÎµÏÎ¿Î´ÏÏŒÎ¼") ||
    text.includes("Î±ÎµÏÎ¿Î´ÏÎ¿Î¼") ||
    text.includes("airport") ||
    text.includes("Ï„Î±Î¾Î¹") ||
    text.includes("Ï„Î±Î¾Î¯") ||
    text.includes("taxi") ||
    text.includes("transfer") ||
    text.includes("Î¼ÎµÏ„Î±Ï†Î¿ÏÎ¬ Î¼Îµ Ï„Î±Î¾Î¯") ||
    text.includes("Ï„Î±Î¾Î¹ Î±Ï€Î¿ Ï„Î¿ Î±ÎµÏÎ¿Î´ÏÎ¿Î¼Î¹Î¿") ||
    text.includes("Ï„Î±Î¾Î¯ Î±Ï€ÏŒ Ï„Î¿ Î±ÎµÏÎ¿Î´ÏÏŒÎ¼Î¹Î¿")
  ) {
    return `ÎœÏ€Î¿ÏÎ¿ÏÎ¼Îµ Î½Î± ÎºÎ±Î½Î¿Î½Î¯ÏƒÎ¿Ï…Î¼Îµ Î¼ÎµÏ„Î±Ï†Î¿ÏÎ¬ Î±Ï€ÏŒ ÎºÎ±Î¹ Ï€ÏÎ¿Ï‚ Ï„Î¿ Î±ÎµÏÎ¿Î´ÏÏŒÎ¼Î¹Î¿ Î¼Îµ Ï„Î±Î¾Î¯ Î® Î¹Î´Î¹Ï‰Ï„Î¹ÎºÏŒ ÏŒÏ‡Î·Î¼Î±.
Î£Ï…Î½Î®Î¸Ï‰Ï‚ Î· Ï‡ÏÎ­Ï‰ÏƒÎ· ÎµÎ¯Î½Î±Î¹ ÏƒÏ„Î±Î¸ÎµÏÎ® Î±Ï€ÏŒ/Ï€ÏÎ¿Ï‚ Ï„Î¿ ÎºÎ­Î½Ï„ÏÎ¿ Ï„Î·Ï‚ Î‘Î¸Î®Î½Î±Ï‚, ÎºÎ±Î¹ Î¼Ï€Î¿ÏÎ¿ÏÎ¼Îµ Î½Î± ÎºÎ»ÎµÎ¯ÏƒÎ¿Ï…Î¼Îµ Î¿Î´Î·Î³ÏŒ Î±Î½ Î¼Î±Ï‚ Î´ÏŽÏƒÎµÏ„Îµ ÏŽÏÎ± Î¬Ï†Î¹Î¾Î·Ï‚/Î±Î½Î±Ï‡ÏŽÏÎ·ÏƒÎ·Ï‚ ÎºÎ±Î¹ Î±ÏÎ¹Î¸Î¼ÏŒ Ï€Ï„Î®ÏƒÎ·Ï‚.
Î‘Î½ Î¸Î­Î»ÎµÏ„Îµ, Î¼Ï€Î¿ÏÎ¿ÏÎ¼Îµ Î½Î± ÏƒÎ±Ï‚ ÏƒÏ„ÎµÎ¯Î»Î¿Ï…Î¼Îµ ÎºÎ±Î¹ ÎµÎºÏ„Î¯Î¼Î·ÏƒÎ· ÎºÏŒÏƒÏ„Î¿Ï…Ï‚. ðŸš•`;
  }

  // ----- Î ÏÏ‰Î¹Î½ÏŒ & Ï‰ÏÎ¬ÏÎ¹Î¿ (ÎºÎ¿Ï…Î¼Ï€Î¯ & manual) -----
  if (
    text.includes("Ï€ÏÏ‰Î¹Î½") ||
    text.includes("Ï€ÏÏ‰Î¹Î½ÏŒ") ||
    text.includes("breakfast") ||
    text.includes("Ï€ÏÏ‰Î¹Î½Î¿ & Ï‰ÏÎ±ÏÎ¹Î¿") ||
    text.includes("Ï€ÏÏ‰Î¹Î½ÏŒ & Ï‰ÏÎ¬ÏÎ¹Î¿") ||
    text.includes("Ï„Î¹ Ï‰ÏÎ± ÎµÎ¹Î½Î±Î¹ Ï„Î¿ Ï€ÏÏ‰Î¹Î½Î¿") ||
    text.includes("Ï„Î¹ ÏŽÏÎ± ÎµÎ¯Î½Î±Î¹ Ï„Î¿ Ï€ÏÏ‰Î¹Î½ÏŒ")
  ) {
    return `Î¤Î¿ Ï€ÏÏ‰Î¹Î½ÏŒ ÏƒÎµÏÎ²Î¯ÏÎµÏ„Î±Î¹ ${hotelConfig.breakfast} ÏƒÏ„Î·Î½ Î±Î¯Î¸Î¿Ï…ÏƒÎ± Ï€ÏÏ‰Î¹Î½Î¿Ï Ï„Î¿Ï… Î¾ÎµÎ½Î¿Î´Î¿Ï‡ÎµÎ¯Î¿Ï….
Î ÏÎ¿ÏƒÏ†Î­ÏÎ¿Ï…Î¼Îµ Î¼Ï€Î¿Ï…Ï†Î­ Î¼Îµ Î¶ÎµÏƒÏ„Î¬ ÎºÎ±Î¹ ÎºÏÏÎ± Ï€Î¹Î¬Ï„Î±, Ï†ÏÎ­ÏƒÎºÎ± Ï†ÏÎ¿ÏÏ„Î±, ÎºÎ±Ï†Î­Î´ÎµÏ‚ ÎºÎ±Î¹ ÎµÏ€Î¹Î»Î¿Î³Î­Ï‚ Î³Î¹Î± Ï‡Î¿ÏÏ„Î¿Ï†Î¬Î³Î¿Ï…Ï‚ Î® Ï€Î¹Î¿ ÎµÎ»Î±Ï†ÏÎ¹Î¬ Î´Î¹Î±Ï„ÏÎ¿Ï†Î®.
Î‘Î½ Î­Ï‡ÎµÏ„Îµ ÎºÎ¬Ï€Î¿Î¹Î± Î´Î¹Î±Ï„ÏÎ¿Ï†Î¹ÎºÎ® Î±Î»Î»ÎµÏÎ³Î¯Î±, Î¼Ï€Î¿ÏÎ¿ÏÎ¼Îµ Î½Î± Ï„Î¿ Ï€ÏÎ¿ÏƒÎ±ÏÎ¼ÏŒÏƒÎ¿Ï…Î¼Îµ Î¼Îµ ÎµÎ½Î·Î¼Î­ÏÏ‰ÏƒÎ· ÎµÎº Ï„Ï‰Î½ Ï€ÏÎ¿Ï„Î­ÏÏ‰Î½. ðŸ½ï¸`;
  }

  // ----- Î‘Î¾Î¹Î¿Î¸Î­Î±Ï„Î± Î‘Î¸Î®Î½Î±Ï‚ (ÎºÎ¿Ï…Î¼Ï€Î¯ & manual) -----
  if (
    text.includes("Ï„Î¹ Î½Î± ÎºÎ±Î½Ï‰") ||
    text.includes("Ï„Î¹ Î½Î± ÎºÎ¬Î½Ï‰") ||
    text.includes("Î±Î¾Î¹Î¿Î¸Î­Î±Ï„Î±") ||
    text.includes("sights") ||
    text.includes("acropolis") ||
    text.includes("Î±ÎºÏÎ¿Ï€Î¿Î»") ||
    text.includes("Î±ÎºÏÏŒÏ€Î¿Î»") ||
    text.includes("Ï€Î±ÏÎ¸ÎµÎ½Î¿Î½") ||
    text.includes("Ï€Î±ÏÎ¸ÎµÎ½ÏŽÎ½") ||
    text.includes("Î±Î¾Î¹Î¿Î¸Î­Î±Ï„Î± Î±Î¸Î®Î½Î±Ï‚") ||
    text.includes("Î±Î¾Î¹Î¿Î¸ÎµÎ±Ï„Î± Î±Î¸Î·Î½Î±Ï‚") ||
    text.includes("Ï„Î¹ Î½Î± ÎºÎ±Î½Ï‰ ÏƒÏ„Î·Î½ Î±Î¸Î·Î½Î±") ||
    text.includes("Ï„Î¹ Î½Î± ÎºÎ¬Î½Ï‰ ÏƒÏ„Î·Î½ Î±Î¸Î®Î½Î±")
  ) {
    return `Î“Î¹Î± Ï„Î·Î½ Î‘Î¸Î®Î½Î± Ï€ÏÎ¿Ï„ÎµÎ¯Î½Î¿Ï…Î¼Îµ Î¿Ï€Ï‰ÏƒÎ´Î®Ï€Î¿Ï„Îµ ÎµÏ€Î¯ÏƒÎºÎµÏˆÎ· ÏƒÏ„Î·Î½ Î‘ÎºÏÏŒÏ€Î¿Î»Î· ÎºÎ±Î¹ Ï„Î¿ ÎœÎ¿Ï…ÏƒÎµÎ¯Î¿ Î‘ÎºÏÏŒÏ€Î¿Î»Î·Ï‚, Î²ÏŒÎ»Ï„Î± ÏƒÏ„Î·Î½ Î Î»Î¬ÎºÎ± â€“ ÎœÎ¿Î½Î±ÏƒÏ„Î·ÏÎ¬ÎºÎ¹ ÎºÎ±Î¹ Î±Ï€Î¿Î³ÎµÏ…Î¼Î±Ï„Î¹Î½ÏŒ Ï€ÎµÏÎ¯Ï€Î±Ï„Î¿ Î® Ï€Î¿Ï„ÏŒ ÏƒÏ„Î¿Î½ Î›Ï…ÎºÎ±Î²Î·Ï„Ï„ÏŒ Î³Î¹Î± Ï€Î±Î½Î¿ÏÎ±Î¼Î¹ÎºÎ® Î¸Î­Î±.
Î‘Î½Î¬Î»Î¿Î³Î± Î¼Îµ Ï„Î¿Î½ Ï‡ÏÏŒÎ½Î¿ Ï€Î¿Ï… Î­Ï‡ÎµÏ„Îµ, Î¼Ï€Î¿ÏÎ¿ÏÎ¼Îµ Î½Î± ÏƒÎ±Ï‚ Ï€ÏÎ¿Ï„ÎµÎ¯Î½Î¿Ï…Î¼Îµ ÎºÎ±Î¹ Î¿ÏÎ³Î±Î½Ï‰Î¼Î­Î½ÎµÏ‚ Î¾ÎµÎ½Î±Î³Î®ÏƒÎµÎ¹Ï‚ Î® Î·Î¼ÎµÏÎ®ÏƒÎ¹ÎµÏ‚ ÎµÎºÎ´ÏÎ¿Î¼Î­Ï‚. ðŸ—ºï¸`;
  }

  // ----- Upgrade Î´Ï‰Î¼Î±Ï„Î¯Î¿Ï… (ÎºÎ¿Ï…Î¼Ï€Î¯ & manual) -----
  if (
    text.includes("upgrade") ||
    text.includes("Î±Î½Î±Î²Î±Î¸Î¼") ||
    text.includes("Î±Î½Î±Î²Î¬Î¸Î¼") ||
    text.includes("Î´Ï‰Î¼Î±Ï„Î¹Î¿") ||
    text.includes("Î´Ï‰Î¼Î¬Ï„Î¹Î¿") ||
    text.includes("room") ||
    text.includes("upgrade Î´Ï‰Î¼Î±Ï„Î¹Î¿Ï…") ||
    text.includes("upgrade Î´Ï‰Î¼Î±Ï„Î¯Î¿Ï…")
  ) {
    return `Î‘Î½Î±Î²Î±Î¸Î¼Î¯ÏƒÎµÎ¹Ï‚ Î´Ï‰Î¼Î±Ï„Î¯Ï‰Î½ Ï€ÏÎ±Î³Î¼Î±Ï„Î¿Ï€Î¿Î¹Î¿ÏÎ½Ï„Î±Î¹ Î±Î½Î¬Î»Î¿Î³Î± Î¼Îµ Ï„Î· Î´Î¹Î±Î¸ÎµÏƒÎ¹Î¼ÏŒÏ„Î·Ï„Î±.
Î£Ï…Ï‡Î½Î¬ Î¼Ï€Î¿ÏÎ¿ÏÎ¼Îµ Î½Î± Ï€ÏÎ¿Ï„ÎµÎ¯Î½Î¿Ï…Î¼Îµ ÎºÎ±Î»ÏÏ„ÎµÏÎ· ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î± Î´Ï‰Î¼Î±Ï„Î¯Î¿Ï… Î® Î¸Î­Î± Î‘ÎºÏÏŒÏ€Î¿Î»Î·Ï‚ Î¼Îµ Î¼Î¹ÎºÏÎ® ÎµÏ€Î¹Ï€Î»Î­Î¿Î½ Ï‡ÏÎ­Ï‰ÏƒÎ·.
Î‘Î½ Î¼Î±Ï‚ Ï€ÎµÎ¯Ï„Îµ Ï„Î¹Ï‚ Î·Î¼ÎµÏÎ¿Î¼Î·Î½Î¯ÎµÏ‚ Ï„Î·Ï‚ Î´Î¹Î±Î¼Î¿Î½Î®Ï‚ ÏƒÎ±Ï‚, Î¼Ï€Î¿ÏÎ¿ÏÎ¼Îµ Î½Î± ÏƒÎ±Ï‚ Î´ÏŽÏƒÎ¿Ï…Î¼Îµ ÏƒÏ…Î³ÎºÎµÎºÏÎ¹Î¼Î­Î½ÎµÏ‚ ÎµÏ€Î¹Î»Î¿Î³Î­Ï‚. ðŸ¨`;
  }

  // ----- Default â€œÎ­Î¾Ï…Ï€Î½Î·â€ Î±Ï€Î¬Î½Ï„Î·ÏƒÎ· -----
  return `Î£Î±Ï‚ ÎµÏ…Ï‡Î±ÏÎ¹ÏƒÏ„ÏŽ Î³Î¹Î± Ï„Î¿ Î¼Î®Î½Ï…Î¼Î±! ðŸ˜Š Î•Î¯Î¼Î±Î¹ Î¿ ÏˆÎ·Ï†Î¹Î±ÎºÏŒÏ‚ concierge Ï„Î¿Ï… ${hotelConfig.name} ÏƒÏ„Î·Î½ ${hotelConfig.city}.
ÎœÏ€Î¿ÏÏŽ Î½Î± ÏƒÎ±Ï‚ Î²Î¿Î·Î¸Î®ÏƒÏ‰ Î¼Îµ check-in / check-out, Î¼ÎµÏ„Î±Ï†Î¿ÏÎ­Ï‚, Ï€ÏÏ‰Î¹Î½ÏŒ Î® Ï€ÏÎ¿Ï„Î¬ÏƒÎµÎ¹Ï‚ Î³Î¹Î± Î²ÏŒÎ»Ï„ÎµÏ‚ ÏƒÏ„Î·Î½ Î‘Î¸Î®Î½Î±.
Î ÎµÎ¯Ï„Îµ Î¼Î¿Ï… Î»Î¯Î³ÎµÏ‚ Î»ÎµÏ€Ï„Î¿Î¼Î­ÏÎµÎ¹ÎµÏ‚ Î³Î¹Î± Î±Ï…Ï„ÏŒ Ï€Î¿Ï… Ï‡ÏÎµÎ¹Î¬Î¶ÎµÏƒÏ„Îµ ÎºÎ±Î¹ Î¸Î± ÏƒÎ±Ï‚ ÎºÎ±Î¸Î¿Î´Î·Î³Î®ÏƒÏ‰.`;
}

// ----------------- Chat endpoint -----------------
app.post("/api/chat", (req, res) => {
  const userMsg = req.body.message || "";
  const reply = fakeAiReply(userMsg);
  res.json({ reply });
});

// ----------------- Start server ------------------
const PORT = 3000;
app.listen(PORT, () => {
  console.log(`FAKE AI Concierge server running at http://localhost:${PORT}`);
});
